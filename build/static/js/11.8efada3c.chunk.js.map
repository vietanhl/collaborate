{"version":3,"sources":["components/Stepper/Stepper.tsx","containers/EmailConfirmationContainer/EmailConfirmationContainer.tsx","views/Order.tsx"],"names":["useStyles","makeStyles","theme","createStyles","root","width","backButton","marginRight","spacing","instructions","marginTop","marginBottom","body","fontFamily","HorizontalLabelPositionBelowStepper","classes","steps","useState","activeStep","setActiveStep","useEffect","window","location","pathname","className","alternativeLabel","map","label","key","sendConfirmationEmail","email","name","message","a","response","fetchData","axios","post","service_id","template_id","user_id","template_params","then","res","data","catch","error","console","log","replace","baseURL","Order","props","auth","Auth","history","api","state","firstName","date","time","treatmentName","x","JSON","stringify","fetchMyApi","Menu","Stepper","PageTitle","title","Line","phone","comments"],"mappings":"gNAMMA,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJC,MAAO,SAETC,WAAY,CACVC,YAAaL,EAAMM,QAAQ,IAE7BC,aAAc,CACZC,UAAWR,EAAMM,QAAQ,GACzBG,aAAcT,EAAMM,QAAQ,IAE9BI,KAAM,CACJC,WAAY,sBAcH,SAASC,IACtB,IAAMC,EAAUf,IACVgB,EAVC,CACL,qBACA,gBACA,+BACA,mBAI0D,EAGxBC,mBAAS,GAHe,mBAGrDC,EAHqD,KAGzCC,EAHyC,KAuB5D,OAlBAC,qBAAU,WACR,OAAQC,OAAOC,SAASC,UACtB,IAAK,aACHJ,EAAc,GACd,MACF,IAAK,QACHA,EAAc,GACd,MACF,IAAK,gBACHA,EAAc,GACd,MACF,IAAK,SACHA,EAAc,GACd,MACF,QACEA,GAAe,MAElB,IAED,yBAAKK,UAAWT,EAAQX,MACtB,kBAAC,IAAD,CAASc,WAAYA,EAAYO,kBAAgB,GAC9CT,EAAMU,KAAI,SAACC,GAAD,OACT,kBAAC,IAAD,CAAMC,IAAKD,GACT,kBAAC,IAAD,CAAWZ,QAAS,CAAEU,iBAAkBV,EAAQH,OAC7Ce,W,uJC3DFE,EAAqB,uCAAG,WACnCC,EACAC,EACAC,GAHmC,iBAAAC,EAAA,6DAK/BC,EAAgB,KACdC,EAN6B,+BAAAF,EAAA,MAMjB,sBAAAA,EAAA,sEACVG,IACHC,KADG,8CACiD,CACnDC,WAAY,gBACZC,YAAa,oBACbC,QAAS,6BACTC,gBAAiB,CACfX,MAAOA,EACPC,KAAMA,EACNC,QAASA,KAGZU,MAAK,SAACC,GACLT,EAAWS,EAAIC,QAEhBC,OAAM,SAACC,GAEN,OADAC,QAAQC,IAAI,UAAYF,GACjBzB,OAAOC,SAAS2B,QAAhB,UAA2BC,IAA3B,cAjBK,2CANiB,8DA0B7Bf,IA1B6B,gCA2B5BD,GA3B4B,2CAAH,0DCuEnBiB,UAhEwB,SAACC,GAEtC,IAAMC,EAAO,IAAIC,IAAKF,EAAMG,SA+B5B,OAjBAnC,qBAAU,WAAM,4CACd,4BAAAa,EAAA,sEACoBuB,EAChBJ,EAAM9B,SAASmC,MAAM3B,MACrBsB,EAAM9B,SAASmC,MAAMC,UAFL,2CAGoBN,EAAM9B,SAASmC,MAAME,KAHzC,eAIdP,EAAM9B,SAASmC,MAAMG,KAJP,gBAKRR,EAAM9B,SAASmC,MAAMI,cAAcnC,KAAI,SAACoC,GAC9C,MAAM,GAAN,OAAUA,EAAV,QANc,eADpB,OACQnB,EADR,OAWEI,QAAQC,IAAIe,KAAKC,UAAUrB,IAX7B,4CADc,uBAAC,WAAD,wBAcdsB,KACC,IAGD,6BACE,kBAACC,EAAA,EAAD,eAAMb,KAAMA,GAAUD,IACtB,kBAACe,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CACEC,MAAK,+BAA0BjB,EAAM9B,SAASmC,MAAMC,UAA/C,OAEP,wBAAIlC,UAAU,WAAd,eACA,kBAAC8C,EAAA,EAAD,MACA,2BACGlB,EAAM9B,SAASmC,MAAMG,KADxB,MACiCR,EAAM9B,SAASmC,MAAME,MAEtD,wBAAInC,UAAU,WAAd,aACA,kBAAC8C,EAAA,EAAD,MACClB,EAAM9B,SAASmC,MAAMI,cAAcnC,KAAI,SAACoC,GACvC,OAAO,2BAAIA,EAAJ,QAGT,wBAAItC,UAAU,WAAd,SACA,kBAAC8C,EAAA,EAAD,MACA,2BAAIlB,EAAM9B,SAASmC,MAAMc,OACzB,wBAAI/C,UAAU,WAAd,YACA,kBAAC8C,EAAA,EAAD,MACA,2BAAIlB,EAAMoB,UACV,uEAC4CpB,EAAM9B,SAASmC,MAAM3B","file":"static/js/11.8efada3c.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '600px',\n    },\n    backButton: {\n      marginRight: theme.spacing(1),\n    },\n    instructions: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n    body: {\n      fontFamily: 'Abril Fatface',\n    },\n  })\n);\n\nfunction getSteps() {\n  return [\n    'Select a treatment',\n    'Select a time',\n    'Fill in your contact details',\n    'Booking summary',\n  ];\n}\n\nexport default function HorizontalLabelPositionBelowStepper() {\n  const classes = useStyles();\n  const steps = getSteps();\n  const [activeStep, setActiveStep] = useState(0);\n\n  useEffect(() => {\n    switch (window.location.pathname) {\n      case '/treatment':\n        setActiveStep(0);\n        break;\n      case '/book':\n        setActiveStep(1);\n        break;\n      case '/confirmation':\n        setActiveStep(2);\n        break;\n      case '/order':\n        setActiveStep(3);\n        break;\n      default:\n        setActiveStep(-1);\n    }\n  }, []);\n  return (\n    <div className={classes.root}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel classes={{ alternativeLabel: classes.body }}>\n              {label}\n            </StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n    </div>\n  );\n}\n","import axios from 'axios';\nimport { baseURL } from '../../config/merchantConfig/config';\n\nexport const sendConfirmationEmail = async (\n  email: string,\n  name: string,\n  message: string\n) => {\n  var response: any = null;\n  const fetchData = async () => {\n    await axios\n      .post(`https://api.emailjs.com/api/v1.0/email/send`, {\n        service_id: 'default_email',\n        template_id: 'confirmationEmail',\n        user_id: 'user_HOAOjrBk9w65QRfSrglwr',\n        template_params: {\n          email: email,\n          name: name,\n          message: message,\n        },\n      })\n      .then((res) => {\n        response = res.data;\n      })\n      .catch((error) => {\n        console.log('error: ' + error);\n        return window.location.replace(`${baseURL}/error`);\n      });\n  };\n  await fetchData();\n  return response;\n};\n","import React, { useEffect } from 'react';\nimport PageTitle from '../components/PageTitle';\nimport Stepper from '../components/Stepper/Stepper';\nimport Menu from '../components/Menu';\nimport Auth from '../Auth/auth';\nimport Line from '../components/Line';\nimport * as api from '../containers/EmailConfirmationContainer/EmailConfirmationContainer';\n\nimport emailjs from 'emailjs-com';\n\nconst Order: React.FunctionComponent = (props: any) => {\n  //TODO: Validation if props are not there\n  const auth = new Auth(props.history);\n  // const { isAuthenticated } = props.auth;\n\n  var data = {\n    service_id: 'default_email',\n    template_id: 'test',\n    user_id: 'user_HOAOjrBk9w65QRfSrglwr',\n    template_params: {\n      email: 'viet-anh.le@hotmail.co.uk',\n      name: 'viet',\n      message: 'This is a test from the code!!! \\n\\n Enjoy your treatment.',\n    },\n  };\n\n  useEffect(() => {\n    async function fetchMyApi() {\n      const res = await api.sendConfirmationEmail(\n        props.location.state.email,\n        props.location.state.firstName,\n        `Your order has been confirmed on ${props.location.state.date} at ${\n          props.location.state.time\n        } for ${props.location.state.treatmentName.map((x: string) => {\n          return `${x} `;\n        })}\n        `\n      );\n      console.log(JSON.stringify(res));\n    }\n    fetchMyApi();\n  }, []);\n\n  return (\n    <div>\n      <Menu auth={auth} {...props} />\n      <Stepper />\n      <PageTitle\n        title={`Enjoy your treatment ${props.location.state.firstName}!`}\n      />\n      <h4 className=\"heading\">Appointment</h4>\n      <Line />\n      <p>\n        {props.location.state.time} - {props.location.state.date}\n      </p>\n      <h4 className=\"heading\">Treatment</h4>\n      <Line />\n      {props.location.state.treatmentName.map((x: string) => {\n        return <p>{x} </p>;\n      })}\n      {/* <p>{props.location.state.treatmentName}</p> */}\n      <h4 className=\"heading\">Phone</h4>\n      <Line />\n      <p>{props.location.state.phone}</p>\n      <h4 className=\"heading\">Comments</h4>\n      <Line />\n      <p>{props.comments}</p>\n      <p>\n        Confirmation has been sent to your email {props.location.state.email}\n      </p>\n    </div>\n  );\n};\n\nexport default Order;\n"],"sourceRoot":""}